(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4520],{5252:(e,r,n)=>{Promise.resolve().then(n.bind(n,7418))},7418:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>d});var t=n(5155),s=n(2732),l=n(6254),o=n(5695),i=n(2115),u=n(8095),a=n(3593),h=n(5384);function d(){let{login:e,isAuthenticated:r,isLoading:n}=(0,l.h)(),d=(0,o.useRouter)(),[c,{loading:v}]=(0,u.n)(a.sj);(0,i.useEffect)(()=>{r&&!n&&d.replace("/parcelles")},[r,n,d]);let f=async r=>{var n,t;let{data:s}=await c({variables:r});if(null==s||null==(n=s.tokenAuthWithUser)?void 0:n.success){let{token:r,user:n}=s.tokenAuthWithUser;if("string"==typeof r&&r&&h.Ep.validateToken(r))return void e(n,r);throw Error("Token re\xe7u mais invalide")}throw Error((null==s||null==(t=s.tokenAuthWithUser)?void 0:t.message)||"Erreur de connexion")};return(0,t.jsx)(s.A,{mode:"login",onLogin:f,loading:n||v})}}},e=>{var r=r=>e(e.s=r);e.O(0,[2871,8916,9516,3069,6800,5005,8441,1684,7358],()=>r(5252)),_N_E=e.O()}]);