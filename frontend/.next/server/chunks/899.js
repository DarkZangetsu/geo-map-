exports.id=899,exports.ids=[899],exports.modules={19710:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});let o=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Videos\\\\Nouveau dossier\\\\geomap\\\\geo-map-\\\\frontend\\\\src\\\\app\\\\LayoutContent.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Videos\\Nouveau dossier\\geomap\\geo-map-\\frontend\\src\\app\\LayoutContent.js","default")},28069:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});var o=t(37413);function s(){return(0,o.jsxs)("div",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#fff"},children:[(0,o.jsx)("h1",{style:{fontSize:"4rem",color:"#e53e3e",marginBottom:"1rem"},children:"404"}),(0,o.jsx)("h2",{style:{fontSize:"2rem",color:"#333",marginBottom:"1rem"},children:"Page non trouv\xe9e"}),(0,o.jsx)("p",{style:{color:"#666",marginBottom:"2rem"},children:"Oups, la page que vous cherchez n'existe pas ou a \xe9t\xe9 d\xe9plac\xe9e."}),(0,o.jsx)("a",{href:"/",style:{color:"#3182ce",textDecoration:"underline",fontSize:"1.2rem"},children:"Retour \xe0 l'accueil"})]})}},39139:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},43371:(e,r,t)=>{"use strict";t.d(r,{A:()=>i,d:()=>a});var o=t(60687),s=t(43210);let n=({message:e,type:r="info",duration:t=3e3,onClose:n})=>{let[i,a]=(0,s.useState)(!0);return((0,s.useEffect)(()=>{let e=setTimeout(()=>{a(!1),setTimeout(()=>n(),300)},t);return()=>clearTimeout(e)},[t,n]),i)?(0,o.jsx)("div",{className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg transition-all duration-300 ${(()=>{switch(r){case"success":return"bg-green-500 text-white";case"error":return"bg-red-500 text-white";case"warning":return"bg-yellow-500 text-black";default:return"bg-blue-500 text-white"}})()}`,children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"font-medium",children:e}),(0,o.jsx)("button",{onClick:()=>{a(!1),setTimeout(()=>n(),300)},className:"ml-4 text-white hover:text-gray-200",children:"\xd7"})]})}):null},i=n;function a(){let[e,r]=(0,s.useState)([]),t=e=>{r(r=>r.filter(r=>r.id!==e))};return{showToast:(e,t="success",o=3e3)=>{let s=Date.now(),n={id:s,message:e,type:t,duration:o};return r(e=>[...e,n]),s},removeToast:t,ToastContainer:()=>(0,o.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>(0,o.jsx)(n,{message:e.message,type:e.type,duration:e.duration,onClose:()=>t(e.id)},e.id))})}}},56171:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},61135:()=>{},64296:(e,r,t)=>{Promise.resolve().then(t.bind(t,79066)),Promise.resolve().then(t.bind(t,89162))},65222:(e,r,t)=>{"use strict";t.d(r,{D1:()=>l,Ep:()=>a,cn:()=>i});var o=t(53117),s=t(49384),n=t(82348);function i(...e){return(0,n.QP)((0,s.$)(e))}let a={setAuthData:(e,r)=>{if("string"!=typeof e||!e.trim())return void console.error("setAuthData appel\xe9 avec un token non string:",e)},getToken:()=>null,getUser:()=>null,isAuthenticated:()=>{let e=a.getToken(),r=a.getUser();return!!(e&&r&&!a.isTokenExpired(e))},clearAuthData:()=>{},isTokenExpired:e=>{if(!e)return!0;try{let r=(0,o.s)(e),t=Date.now()/1e3;return r.exp<t}catch(e){return!0}},decodeToken:e=>{if(!e)return null;try{return(0,o.s)(e)}catch(e){return null}},validateToken:e=>{if(!e||"string"!=typeof e||""===e.trim())return!1;try{let r=(0,o.s)(e),t=Date.now()/1e3;return r.exp>t}catch(e){return console.error("Token invalide:",e),!1}}};function l(e){return e?e.startsWith("http://")||e.startsWith("https://")?e:`https://api.allianceagroforesterie.mg/media/${e}`:null}},75535:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,metadata:()=>i});var o=t(37413),s=t(98992);t(61135);var n=t(19710);let i={title:"Alliance-Agroforesterie",description:"Application web pour la visualisation des sites de r\xe9f\xe9rence et des locaux et des p\xe9pini\xe8res des institutions membre de l'Alliance-Agroforesterie avec cartographie interactive",icons:{icon:"/logo.png"}};function a({children:e}){return(0,o.jsxs)("html",{lang:"fr",style:{height:"100%"},children:[(0,o.jsx)("head",{}),(0,o.jsx)("body",{style:{height:"100%"},children:(0,o.jsx)(s.AuthProvider,{children:(0,o.jsx)(n.default,{children:e})})})]})}},77448:(e,r,t)=>{Promise.resolve().then(t.bind(t,19710)),Promise.resolve().then(t.bind(t,98992))},78335:()=>{},79066:(e,r,t)=>{"use strict";t.d(r,{default:()=>g});var o=t(60687),s=t(38281),n=t(43210),i=t(83558),a=t(92049),l=t(43371),d=t(10218),c=t(52581);let h=({...e})=>{let{theme:r="system"}=(0,d.D)();return(0,o.jsx)(c.l$,{theme:r,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...e})};var x=t(89162),m=t(16189),u=t(65222);function g({children:e}){let{user:r,isLoading:t,isLoggingOut:d,logout:c}=(0,x.h)(),{toasts:g,removeToast:p}=(0,a.d)(),[v,f]=(0,n.useState)(!1),[b,j]=(0,n.useState)(!1),[k,y]=(0,n.useState)(!1),[w,N]=(0,n.useState)(!1),[L,C]=(0,n.useState)(!1),M=(0,m.usePathname)(),A=(0,m.useRouter)(),P=async()=>{try{f(!1),C(!1),j(!1),await new Promise(e=>setTimeout(e,100)),await c(),A.push("/")}catch(e){console.error("Erreur lors de la d\xe9connexion:",e),f(!1),C(!1),j(!1)}};return t?(0,o.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",style:{height:"100%"},children:(0,o.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-indigo-200 border-t-indigo-600"}),(0,o.jsx)("p",{className:"text-indigo-600 font-medium",children:"Chargement..."})]})}):(0,o.jsxs)(s.X,{client:i.A,children:[(0,o.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50",style:{height:"100%"},children:[d&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:(0,o.jsxs)("div",{className:"bg-white rounded-2xl p-8 shadow-2xl flex flex-col items-center space-y-4",children:[(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-2 border-indigo-200 border-t-indigo-600"}),(0,o.jsx)("span",{className:"text-gray-700 font-medium",children:"D\xe9connexion en cours..."})]})}),v&&!d&&(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,o.jsx)("div",{className:"bg-white rounded-2xl shadow-2xl p-8 max-w-md w-full mx-4 transform transition-all",children:(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,o.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})}),(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Confirmer la d\xe9connexion"}),(0,o.jsx)("p",{className:"text-gray-600 mb-8",children:"\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?"}),(0,o.jsxs)("div",{className:"flex gap-4",children:[(0,o.jsx)("button",{className:"flex-1 px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 font-semibold transition-all duration-200 transform hover:scale-105",onClick:P,disabled:d,children:"Oui, me d\xe9connecter"}),(0,o.jsx)("button",{className:"flex-1 px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 font-semibold transition-all duration-200 transform hover:scale-105",onClick:()=>f(!1),disabled:d,children:"Annuler"})]})]})})}),"/login"===M||"/register"===M?(0,o.jsx)("div",{className:"w-full flex items-center px-6 py-6 bg-white/80 backdrop-blur-sm",children:(0,o.jsxs)("a",{href:"/",className:"inline-flex items-center text-indigo-600 font-semibold text-lg hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-6 h-6 mr-3 transform group-hover:-translate-x-1 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Retour \xe0 la carte g\xe9n\xe9rale"]})}):(0,o.jsx)("header",{className:"bg-white/80 backdrop-blur-md shadow-sm border-b border-white/20 sticky top-0 z-40",children:(0,o.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,o.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,o.jsx)("div",{className:"flex items-center min-w-0",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center shadow-lg",children:(0,o.jsx)("svg",{className:"h-8 w-8",style:{color:"rgb(0,70,144)"},fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,o.jsx)("h1",{className:"text-xl font-bold bg-gradient-to-r from-indigo-600 to-blue-600 bg-clip-text text-transparent",children:"Alliance-Agroforesterie"})]})}),(0,o.jsxs)("div",{className:"hidden lg:flex items-center space-x-2",children:[(0,o.jsxs)("div",{className:"relative dropdown-container",children:[(0,o.jsxs)("button",{onClick:()=>{y(!k),N(!1),C(!1)},className:"flex items-center space-x-2 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white/60 hover:bg-white/80 rounded-xl border border-gray-200/50 transition-all duration-200 hover:shadow-md backdrop-blur-sm",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,o.jsx)("span",{children:"Vue Globale"}),(0,o.jsx)("svg",{className:`w-4 h-4 transition-transform duration-200 ${k?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),k&&(0,o.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-xl border border-gray-200/50 py-2 z-50 transform transition-all duration-200",children:[(0,o.jsxs)("a",{href:"/",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Carte g\xe9n\xe9rale"]}),(0,o.jsxs)("a",{href:"/parcelles-globales",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Sites de r\xe9f\xe9rence"]}),(0,o.jsxs)("a",{href:"/sieges-globaux",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Locaux"]}),(0,o.jsxs)("a",{href:"/pepinieres-globales",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"P\xe9pini\xe8res"]})]})]}),r&&(0,o.jsxs)("div",{className:"relative dropdown-container",children:[(0,o.jsxs)("button",{onClick:()=>{N(!w),y(!1),C(!1)},className:"flex items-center space-x-2 px-4 py-2.5 text-sm font-medium text-gray-700 bg-white/60 hover:bg-white/80 rounded-xl border border-gray-200/50 transition-all duration-200 hover:shadow-md backdrop-blur-sm",children:[(0,o.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,o.jsx)("span",{children:"Mes Donn\xe9es"}),(0,o.jsx)("svg",{className:`w-4 h-4 transition-transform duration-200 ${w?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),w&&(0,o.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-64 bg-white/95 backdrop-blur-md rounded-2xl shadow-xl border border-gray-200/50 py-2 z-50",children:[(0,o.jsxs)("a",{href:"/parcelles",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Mes sites de r\xe9f\xe9rence"]}),(0,o.jsxs)("a",{href:"/sieges",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Mes locaux"]}),(0,o.jsxs)("a",{href:"/pepinieres",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Mes p\xe9pini\xe8res"]})]})]})]}),(0,o.jsx)("div",{className:"flex items-center space-x-3",children:r?(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("button",{onClick:()=>j(!b),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:b?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),(0,o.jsxs)("div",{className:"relative dropdown-container",children:[(0,o.jsxs)("button",{onClick:()=>{C(!L),y(!1),N(!1)},className:"flex items-center space-x-3 p-2 hover:bg-white/60 rounded-xl transition-all duration-200 group",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-2",children:[r?.logo?(0,o.jsx)("img",{src:(0,u.D1)(r.logo),alt:"Logo",className:"w-8 h-8 rounded-full border-2 border-white shadow-sm"}):(0,o.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white text-sm font-semibold",children:r?.nomInstitution?.charAt(0)||"U"})}),(0,o.jsx)("div",{className:"hidden sm:block text-left",children:(0,o.jsx)("div",{className:"text-sm font-medium text-gray-900",children:r?.nomInstitution})})]}),(0,o.jsx)("svg",{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${L?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),L&&(0,o.jsxs)("div",{className:"absolute top-full right-0 mt-2 w-56 bg-white/95 backdrop-blur-md rounded-2xl shadow-xl border border-gray-200/50 py-2 z-50",children:[(0,o.jsx)("div",{className:"px-4 py-3 border-b border-gray-100",children:(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[r?.logo?(0,o.jsx)("img",{src:(0,u.D1)(r.logo),alt:"Logo",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}):(0,o.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-semibold",children:r?.nomInstitution?.charAt(0)||"U"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:r?.nomInstitution}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:"Connect\xe9"})]})]})}),(0,o.jsxs)("a",{href:"/profil",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Mon profil"]}),(0,o.jsx)("div",{className:"border-t border-gray-100 mt-2 pt-2",children:(0,o.jsxs)("button",{onClick:()=>{C(!1),f(!0)},className:"w-full flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 transition-colors group",disabled:d,children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"D\xe9connexion"]})})]})]})]}):(0,o.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,o.jsx)("button",{onClick:()=>j(!b),className:"lg:hidden p-2 text-gray-600 hover:text-gray-900 hover:bg-gray-100 rounded-xl transition-colors",children:(0,o.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:b?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})}),(0,o.jsxs)("div",{className:"hidden lg:flex items-center space-x-3",children:[(0,o.jsx)("a",{href:"/login",className:"px-4 py-2.5 text-sm font-medium text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 border border-indigo-200 rounded-xl transition-all duration-200 hover:shadow-md",children:"Connexion"}),(0,o.jsx)("a",{href:"/register",className:"px-4 py-2.5 text-sm font-medium text-white bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 rounded-xl transition-all duration-200 hover:shadow-lg transform hover:scale-105",children:"Inscription"})]})]})})]}),b&&(0,o.jsx)("div",{className:"lg:hidden border-t border-gray-200/50 bg-white/60 backdrop-blur-sm rounded-b-2xl mt-2 overflow-hidden",children:(0,o.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Vue Globale"]}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("a",{href:"/",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"})}),"Carte g\xe9n\xe9rale"]}),(0,o.jsxs)("a",{href:"/parcelles-globales",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Sites de r\xe9f\xe9rence"]}),(0,o.jsxs)("a",{href:"/sieges-globaux",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Locaux"]}),(0,o.jsxs)("a",{href:"/pepinieres-globales",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"P\xe9pini\xe8res"]})]})]}),r&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3 flex items-center",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Mes Donn\xe9es"]}),(0,o.jsxs)("div",{className:"space-y-1",children:[(0,o.jsxs)("a",{href:"/parcelles",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Mes sites de r\xe9f\xe9rence"]}),(0,o.jsxs)("a",{href:"/sieges",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Mes locaux"]}),(0,o.jsxs)("a",{href:"/pepinieres",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Mes p\xe9pini\xe8res"]})]})]}),r&&(0,o.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,o.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 bg-gray-50 rounded-xl mb-3",children:[r?.logo?(0,o.jsx)("img",{src:(0,u.D1)(r.logo),alt:"Logo",className:"w-10 h-10 rounded-full border-2 border-white shadow-sm"}):(0,o.jsx)("div",{className:"w-10 h-10 bg-gradient-to-br from-indigo-500 to-blue-500 rounded-full flex items-center justify-center",children:(0,o.jsx)("span",{className:"text-white font-semibold",children:r?.nomInstitution?.charAt(0)||"U"})}),(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:r?.nomInstitution}),(0,o.jsx)("div",{className:"text-xs text-gray-500",children:"Connect\xe9"})]})]}),(0,o.jsxs)("a",{href:"/profil",className:"flex items-center px-4 py-3 text-sm text-gray-700 hover:bg-indigo-50 hover:text-indigo-700 rounded-xl transition-colors group mb-2",children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3 text-gray-400 group-hover:text-indigo-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Mon profil"]}),(0,o.jsxs)("button",{onClick:()=>{j(!1),f(!0)},className:"w-full flex items-center px-4 py-3 text-sm text-red-600 hover:bg-red-50 hover:text-red-700 rounded-xl transition-colors group",disabled:d,children:[(0,o.jsx)("svg",{className:"w-4 h-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,o.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"D\xe9connexion"]})]}),!r&&(0,o.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[(0,o.jsx)("a",{href:"/login",className:"block w-full px-4 py-3 text-sm font-medium text-center text-indigo-600 hover:text-indigo-700 hover:bg-indigo-50 border border-indigo-200 rounded-xl transition-all duration-200",children:"Connexion"}),(0,o.jsx)("a",{href:"/register",className:"block w-full px-4 py-3 text-sm font-medium text-center text-white bg-gradient-to-r from-indigo-600 to-blue-600 hover:from-indigo-700 hover:to-blue-700 rounded-xl transition-all duration-200 shadow-lg",children:"Inscription"})]})]})})]})}),(0,o.jsxs)("main",{className:"h-full",children:[e,(0,o.jsx)(h,{})]})]}),g.map(e=>(0,o.jsx)(l.A,{message:e.message,type:e.type,duration:e.duration,onClose:()=>p(e.id)},e.id))]})}},83558:(e,r,t)=>{"use strict";t.d(r,{A:()=>x});var o=t(84589),s=t(39768),n=t(1566),i=t(14744),a=t(42629),l=t(11327);t(53117);let d=(0,l.A)({uri:"https://api.allianceagroforesterie.mg/graphql/"}),c=(0,i.o)((e,{headers:r})=>({headers:{...r,authorization:""}})),h=(0,a.S)(({graphQLErrors:e,networkError:r,operation:t,forward:o})=>{e&&e.forEach(({message:e,locations:r,path:t,extensions:o})=>{console.error(`[GraphQL error]: Message: ${e}, Location: ${r}, Path: ${t}`),o?.code==="UNAUTHENTICATED"||e.includes("authentication")||e.includes("decoding signature")||e.includes("token")||e.includes("expired"),o?.code==="BAD_REQUEST"||e.includes("bad request")||e.includes("invalid"),o?.code==="NOT_FOUND"||e.includes("not found"),o?.code==="INTERNAL_SERVER_ERROR"||e.includes("server error")}),r&&console.error(`[Network error]: ${r}`)}),x=new o.R({link:(0,s.H)([h,c,d]),cache:new n.D,defaultOptions:{watchQuery:{errorPolicy:"all"},query:{errorPolicy:"all"}}})},89162:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>l,h:()=>d});var o=t(60687),s=t(43210);t(83558);var n=t(16189),i=t(65222);let a=(0,s.createContext)();function l({children:e}){let[r,t]=(0,s.useState)(null),[l,d]=(0,s.useState)(!1),[c,h]=(0,s.useState)(!0),[x,m]=(0,s.useState)(!1),u=(0,n.useRouter)(),g=async()=>{m(!0),await new Promise(e=>setTimeout(e,700)),i.Ep.clearAuthData(),t(null),d(!1),m(!1),u.push("/")};return(0,o.jsx)(a.Provider,{value:{user:r,isAuthenticated:l,isLoading:c,isLoggingOut:x,login:(e,r)=>{if("string"!=typeof r||!r.trim())return void console.error("Tentative de login avec un token invalide:",r);i.Ep.setAuthData(r,e),t(e),d(!0)},logout:g},children:e})}function d(){return(0,s.useContext)(a)}},92049:(e,r,t)=>{"use strict";t.d(r,{d:()=>s});var o=t(43210);let s=()=>{let[e,r]=(0,o.useState)([]),t=(0,o.useCallback)((e,t="info",o=3e3)=>{let s=Date.now(),n={id:s,message:e,type:t,duration:o};return r(e=>[...e,n]),s},[]),s=(0,o.useCallback)(e=>{r(r=>r.filter(r=>r.id!==e))},[]),n=(0,o.useCallback)((e,r)=>t(e,"success",r),[t]),i=(0,o.useCallback)((e,r)=>t(e,"error",r),[t]),a=(0,o.useCallback)((e,r)=>t(e,"warning",r),[t]),l=(0,o.useCallback)((e,r)=>t(e,"info",r),[t]);return{toasts:e,showToast:t,showSuccess:n,showError:i,showWarning:a,showInfo:l,removeToast:s}}},96487:()=>{},98992:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>s});var o=t(12907);let s=(0,o.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Videos\\Nouveau dossier\\geomap\\geo-map-\\frontend\\src\\components\\Providers.js","AuthProvider");(0,o.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Videos\\Nouveau dossier\\geomap\\geo-map-\\frontend\\src\\components\\Providers.js","useAuth"),(0,o.registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\User\\\\Videos\\\\Nouveau dossier\\\\geomap\\\\geo-map-\\\\frontend\\\\src\\\\components\\\\Providers.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\User\\Videos\\Nouveau dossier\\geomap\\geo-map-\\frontend\\src\\components\\Providers.js","default")}};